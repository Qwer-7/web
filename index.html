<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="ä¼˜åŒ–ç‰ˆå‘½ä»¤ä¸­æ¢ç•Œé¢">
  <meta name="theme-color" content="#050510">
  <title>ä¼˜åŒ–ç‰ˆå‘½ä»¤ä¸­æ¢</title>
  
  <!-- é¢„åŠ è½½å…³é”®èµ„æº -->
  <link rel="preload" href="fonts/tech-font.woff2" as="font" type="font/woff2" crossorigin>
  
  <!-- ä¸»è¦æ ·å¼è¡¨ -->
  <style>
    /* CSS å˜é‡å®šä¹‰ - æ–¹ä¾¿ä¸»é¢˜åˆ‡æ¢ */
    :root {
      --core-color: rgba(64, 220, 255, 0.7);
      --core-glow: rgba(64, 220, 255, 0.4);
      --core-inner: rgba(255, 255, 255, 0.8);
      --menu-bg: rgba(10, 14, 30, 0.7);
      --log-bg: rgba(5, 10, 20, 0.85);
      --accent-color: #4cbbff;
      --danger-color: #ff4757;
      --success-color: #2ed573;
      --panel-width: 450px;
      --panel-bg: rgba(16, 20, 38, 0.85);
      --panel-border: rgba(64, 220, 255, 0.3);
      --anim-duration: 400ms;
      --transition-timing: cubic-bezier(0.16, 1, 0.3, 1);
    }

    /* æ›´ç°ä»£çš„CSSé‡ç½® */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* ä½¿ç”¨:focus-visibleä¼˜åŒ–é”®ç›˜å¯¼èˆª */
    :focus-visible {
      outline: 2px solid var(--accent-color);
      outline-offset: 2px;
    }

    html, body {
      height: 100%;
      overflow: hidden;
    }

    body {
      background: #050510;
      color: white;
      font-family: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    /* ä½¿ç”¨CSS gridä»£æ›¿å¤æ‚ç²’å­ç³»ç»Ÿçš„èƒŒæ™¯ */
    .grid-background {
      position: fixed;
      inset: 0;
      background-image: 
        linear-gradient(rgba(64, 220, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(64, 220, 255, 0.03) 1px, transparent 1px);
      background-size: 30px 30px;
      z-index: -1;
    }

    /* é¢„å®šä¹‰åŠ¨ç”»å…³é”®å¸§ */
    @keyframes pulse {
      0% { transform: scale(0.95); opacity: 0.8; }
      100% { transform: scale(1.05); opacity: 1; }
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    /* åŠ è½½å±å¹•ä¼˜åŒ– - ä½¿ç”¨CSSå˜é‡ */
    .loading-overlay {
      position: fixed;
      inset: 0;
      background: #050510;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity var(--anim-duration);
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 3px solid rgba(64, 220, 255, 0.3);
      border-radius: 50%;
      border-top-color: var(--accent-color);
      animation: rotate 1s linear infinite;
    }

    /* æ ¸å¿ƒå®¹å™¨ä¼˜åŒ– */
    .core-container {
      position: relative;
      width: 100%;
      height: 70%;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1;
      /* å¢åŠ å†…å®¹å¯è§æ€§ä¼˜åŒ– */
      content-visibility: auto;
      contain-intrinsic-size: 100% 70%;
    }

    .glow-core {
      position: absolute;
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: radial-gradient(circle, var(--core-inner) 10%, var(--core-color) 70%);
      box-shadow: 0 0 30px 15px var(--core-glow);
      cursor: pointer;
      transition: all var(--anim-duration) var(--transition-timing);
      transform-style: preserve-3d;
      z-index: 10;
      /* å¢åŠ æ— éšœç¢æ”¯æŒ */
      role: button;
      aria-label: "æ¿€æ´»ç³»ç»Ÿæ ¸å¿ƒ";
      tabindex: 0;
    }

    /* ä½¿ç”¨will-changeä¼˜åŒ–åˆæˆ */
    .glow-core:hover, .glow-core:focus-visible {
      box-shadow: 0 0 50px 25px var(--core-glow);
      transform: scale(1.05);
      will-change: transform, box-shadow;
    }

    .glow-core::before {
      content: '';
      position: absolute;
      top: 15%;
      left: 15%;
      width: 70%;
      height: 70%;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0) 70%);
      filter: blur(5px);
    }

    /* ä¼˜åŒ–èœå•ç¯åŠ¨ç”» */
    .menu-ring {
      position: absolute;
      width: 400px;
      height: 400px;
      border-radius: 50%;
      transition: all var(--anim-duration) var(--transition-timing);
      opacity: 0;
      transform: scale(0.3);
      pointer-events: none;
    }

    .menu-ring.active {
      opacity: 1;
      transform: scale(1);
      pointer-events: all;
    }

    /* æ¨¡å—æŒ‰é’®å¢å¼º */
    .module-btn {
      position: absolute;
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: var(--menu-bg);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-size: 24px;
      box-shadow: 0 0 15px rgba(64, 220, 255, 0.3);
      transition: all 300ms var(--transition-timing);
      opacity: 0;
      transform: translateY(20px);
      /* å¢åŠ æ— éšœç¢æ”¯æŒ */
      role: button;
      tabindex: 0;
    }

    .module-btn:hover, .module-btn:focus-visible {
      background: rgba(64, 190, 255, 0.3);
      transform: scale(1.1) !important;
      box-shadow: 0 0 20px 5px var(--core-glow);
      will-change: transform, background, box-shadow;
    }

    .module-btn.active {
      box-shadow: 0 0 30px 10px var(--core-glow);
      border: 2px solid var(--accent-color);
    }

    /* å·¥å…·æç¤ºä¼˜åŒ– */
    .module-tooltip {
      position: absolute;
      background: rgba(10, 20, 30, 0.9);
      border: 1px solid var(--accent-color);
      padding: 10px;
      border-radius: 4px;
      font-size: 14px;
      opacity: 0;
      transition: all 300ms var(--transition-timing);
      pointer-events: none;
      white-space: nowrap;
      bottom: -40px;
      transform: translateY(10px);
      box-shadow: 0 0 10px rgba(64, 220, 255, 0.2);
      width: max-content;
      max-width: 200px;
      /* æ”¹å–„å·¥å…·æç¤ºè®¿é—®æ€§ */
      role: tooltip;
    }

    .module-tooltip h4 {
      color: var(--accent-color);
      margin-bottom: 5px;
      font-size: 15px;
    }

    .module-tooltip p {
      font-size: 12px;
      color: rgba(255, 255, 255, 0.8);
    }

    .module-btn:hover .module-tooltip,
    .module-btn:focus-visible .module-tooltip {
      opacity: 1;
      transform: translateY(0);
    }

    /* ç»ˆç«¯æ—¥å¿—åŒºåŸŸä¼˜åŒ– */
    .terminal-container {
      position: fixed;
      bottom: -120px; 
      left: 0;
      width: 100%;
      height: 120px;
      background: var(--log-bg);
      border-top: 1px solid rgba(64, 220, 255, 0.3);
      z-index: 100;
      padding: 10px;
      font-family: 'Consolas', monospace;
      font-size: 14px;
      overflow-y: auto;
      overflow-x: hidden;
      transition: bottom 300ms var(--transition-timing);
      /* å‡å°DOMæ›´æ–°å¼€é”€ */
      contain: content;
    }

    .terminal-container.visible {
      bottom: 0;
      /* ä½¿ç”¨WebåŠ¨ç”»APIå¤„ç†å¤æ‚åŠ¨ç”» */
      animation: slideInUp 300ms var(--transition-timing) forwards;
    }

    @keyframes slideInUp {
      from { bottom: -120px; }
      to { bottom: 0; }
    }

    .terminal-toggle {
      position: fixed;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      background: var(--log-bg);
      color: var(--accent-color);
      border: none;
      border-radius: 5px 5px 0 0;
      padding: 5px 20px;
      cursor: pointer;
      z-index: 101;
      font-size: 12px;
      border-top: 1px solid rgba(64, 220, 255, 0.3);
      border-left: 1px solid rgba(64, 220, 255, 0.3);
      border-right: 1px solid rgba(64, 220, 255, 0.3);
      /* æ— éšœç¢æ”¯æŒ */
      aria-expanded: "false";
      aria-controls: "terminal";
    }

    .terminal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 5px;
      color: var(--accent-color);
    }

    .terminal-title {
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .terminal-title::before {
      content: '';
      width: 8px;
      height: 8px;
      background-color: var(--success-color);
      border-radius: 50%;
      animation: blink 1.5s infinite;
    }

    .terminal-controls {
      display: flex;
      gap: 10px;
    }

    .terminal-control {
      cursor: pointer;
      opacity: 0.7;
      padding: 2px 6px;
      border-radius: 3px;
      transition: all 200ms ease;
      /* æ— éšœç¢æ”¯æŒ */
      role: button;
      tabindex: 0;
    }

    .terminal-control:hover,
    .terminal-control:focus-visible {
      opacity: 1;
      background: rgba(255, 255, 255, 0.1);
    }

    .terminal-log {
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.4;
    }

    .log-entry {
      margin: 2px 0;
      animation: fadeInUp 300ms forwards;
    }

    .log-time {
      color: rgba(64, 220, 255, 0.7);
      margin-right: 5px;
    }

    .log-type {
      margin-right: 5px;
    }

    .log-type.info { color: #4cbbff; }
    .log-type.warning { color: #ffcc00; }
    .log-type.error { color: #ff4c4c; }
    .log-type.success { color: #4cff4c; }

    .log-content {
      color: rgba(255, 255, 255, 0.9);
    }

    /* æ¨¡å—é¢æ¿æ ·å¼ä¼˜åŒ– */
    .module-panel {
      position: fixed;
      right: -600px;
      top: 50%;
      transform: translateY(-50%);
      width: var(--panel-width);
      height: 70vh;
      background: var(--panel-bg);
      backdrop-filter: blur(10px);
      border-radius: 15px 0 0 15px;
      border: 1px solid var(--panel-border);
      border-right: none;
      display: flex;
      flex-direction: column;
      z-index: 50;
      overflow: hidden;
      transition: right 600ms var(--transition-timing);
      box-shadow: -5px 0 20px rgba(0, 0, 0, 0.5);
      /* ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ */
      content-visibility: auto;
      contain-intrinsic-size: var(--panel-width) 70vh;
    }

    .module-panel.active {
      right: 0;
    }

    .panel-header {
      padding: 15px;
      background: rgba(10, 20, 40, 0.8);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--panel-border);
    }

    .panel-title {
      color: var(--accent-color);
      font-weight: bold;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .panel-title span {
      font-size: 20px;
    }

    .panel-close {
      cursor: pointer;
      width: 30px;
      height: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
      transition: all 300ms ease;
      font-size: 18px;
      /* æ— éšœç¢æ”¯æŒ */
      role: button;
      aria-label: "å…³é—­é¢æ¿";
      tabindex: 0;
    }

    .panel-close:hover,
    .panel-close:focus-visible {
      background: rgba(255, 255, 255, 0.2);
      color: var(--danger-color);
    }

    .panel-content {
      flex: 1;
      padding: 15px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
    }

    /* AIèŠå¤©æ¨¡å—æ ·å¼ä¼˜åŒ– */
    .chat-container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      /* è™šæ‹Ÿæ»šåŠ¨ä¼˜åŒ– */
      contain: paint;
    }

    .chat-message {
      max-width: 85%;
      padding: 10px;
      border-radius: 12px;
      animation: fadeIn 300ms forwards;
      position: relative;
      line-height: 1.4;
    }

    .chat-message.ai {
      align-self: flex-start;
      background: rgba(64, 220, 255, 0.15);
      border: 1px solid rgba(64, 220, 255, 0.3);
      border-top-left-radius: 4px;
    }

    .chat-message.user {
      align-self: flex-end;
      background: rgba(100, 100, 255, 0.15);
      border: 1px solid rgba(100, 100, 255, 0.3);
      border-bottom-right-radius: 4px;
    }

    .chat-input-container {
      padding: 15px;
      display: flex;
      gap: 10px;
      border-top: 1px solid rgba(64, 220, 255, 0.2);
    }

    .chat-input {
      flex: 1;
      background: rgba(10, 20, 30, 0.6);
      border: 1px solid rgba(64, 220, 255, 0.3);
      border-radius: 20px;
      padding: 10px 15px;
      color: white;
      outline: none;
      transition: all 300ms ease;
    }

    .chat-input:focus {
      border-color: rgba(64, 220, 255, 0.8);
      box-shadow: 0 0 10px rgba(64, 220, 255, 0.3);
    }

    .chat-send {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: rgba(64, 220, 255, 0.3);
      border: 1px solid rgba(64, 220, 255, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: all 300ms ease;
      font-size: 18px;
      /* æ— éšœç¢æ”¯æŒ */
      role: button;
      aria-label: "å‘é€æ¶ˆæ¯";
      tabindex: 0;
    }

    .chat-send:hover,
    .chat-send:focus-visible {
      background: rgba(64, 220, 255, 0.5);
      transform: scale(1.05);
    }

    /* æ•°å­—çŠ¶æ€æ˜¾ç¤ºä¼˜åŒ– */
    .digital-readout {
      position: fixed;
      right: 20px;
      top: 20px;
      display: flex;
      flex-direction: column;
      gap: 5px;
      z-index: 5;
      font-family: 'Consolas', monospace;
      font-size: 12px;
      color: var(--accent-color);
      background: rgba(10, 20, 30, 0.7);
      border: 1px solid rgba(64, 220, 255, 0.3);
      border-radius: 4px;
      padding: 8px;
      opacity: 0;
      transition: opacity 500ms ease;
    }

    .digital-readout.visible {
      opacity: 0.8;
    }

    .digital-readout:hover {
      opacity: 1;
    }

    .digital-item {
      display: flex;
      justify-content: space-between;
      gap: 10px;
    }

    .digital-label {
      color: rgba(255, 255, 255, 0.7);
    }

    .digital-value {
      color: var(--accent-color);
    }

    /* æ€§èƒ½ä¼˜åŒ–æ§åˆ¶å™¨ */
    .perf-controls {
      position: fixed;
      left: 10px;
      top: 10px;
      background: rgba(10, 20, 30, 0.7);
      border: 1px solid rgba(64, 220, 255, 0.3);
      border-radius: 4px;
      padding: 8px;
      display: flex;
      gap: 10px;
      align-items: center;
      z-index: 500;
      font-size: 12px;
    }

    .perf-label {
      color: var(--accent-color);
    }

    .perf-quality {
      cursor: pointer;
      padding: 2px 6px;
      border-radius: 3px;
      transition: all 200ms;
      /* æ— éšœç¢æ”¯æŒ */
      role: radio;
      tabindex: 0;
    }

    .perf-quality:hover,
    .perf-quality:focus-visible {
      background: rgba(255, 255, 255, 0.1);
    }

    .perf-quality.active {
      background: var(--accent-color);
      color: #000;
      /* æ— éšœç¢æ”¯æŒ */
      aria-checked: "true";
    }

    .placeholder-content {
      color: rgba(255, 255, 255, 0.6);
      text-align: center;
      padding: 30px 0;
      font-style: italic;
    }

    /* åª’ä½“æŸ¥è¯¢ä¼˜åŒ– */
    @media (max-width: 768px) {
      .digital-readout {
        display: none;
      }
      
      .module-panel {
        width: 100%;
        height: 80vh;
        top: unset;
        bottom: -100%;
        right: 0;
        transform: none;
        border-radius: 15px 15px 0 0;
        transition: bottom 600ms var(--transition-timing);
      }
      
      .module-panel.active {
        bottom: 0;
        right: 0;
      }
      
      .menu-ring {
        width: 320px;
        height: 320px;
      }
      
      .module-btn {
        width: 60px;
        height: 60px;
        font-size: 20px;
      }
    }

    /* æ·±è‰²/æµ…è‰²æ¨¡å¼æ”¯æŒ */
    @media (prefers-color-scheme: light) {
      body {
        background: #f0f4f8;
        color: #333;
      }
      
      :root {
        --panel-bg: rgba(240, 244, 248, 0.85);
        --menu-bg: rgba(240, 244, 248, 0.7);
        --log-bg: rgba(240, 244, 248, 0.85);
      }
      
      /* å…¶ä»–æ ·å¼è°ƒæ•´... */
    }
  </style>
</head>
<body>
  <!-- é€šè¿‡data-*å±æ€§æ”¯æŒçš„æ— éšœç¢æ ‡ç­¾ -->
  <div class="loading-overlay" id="loadingOverlay" aria-live="polite" aria-label="åŠ è½½ä¸­">
    <div class="loading-spinner" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
  </div>

  <!-- æ€§èƒ½æ§åˆ¶ -->
  <div class="perf-controls" role="radiogroup" aria-label="ç‰¹æ•ˆè´¨é‡è®¾ç½®">
    <span class="perf-label" id="perfLabel">ç‰¹æ•ˆè´¨é‡:</span>
    <span class="perf-quality active" data-quality="0" role="radio" aria-checked="true" tabindex="0" aria-labelledby="perfLabel">ä½</span>
    <span class="perf-quality" data-quality="1" role="radio" aria-checked="false" tabindex="0" aria-labelledby="perfLabel">ä¸­</span>
    <span class="perf-quality" data-quality="2" role="radio" aria-checked="false" tabindex="0" aria-labelledby="perfLabel">é«˜</span>
  </div>

  <!-- ä½¿ç”¨divä»£æ›¿åŸæ¥çš„canvasä»¥æé«˜æ€§èƒ½ -->
  <div class="grid-background" id="backgroundEffect" aria-hidden="true"></div>

  <!-- çŠ¶æ€æ˜¾ç¤ºå™¨ -->
  <div class="digital-readout" id="digitalReadout" aria-live="polite">
    <div class="digital-item">
      <span class="digital-label">ç³»ç»ŸçŠ¶æ€</span>
      <span class="digital-value" id="systemStatus">å¾…æœº</span>
    </div>
    <div class="digital-item">
      <span class="digital-label">æ´»åŠ¨æ¨¡å—</span>
      <span class="digital-value" id="activeModule">æ— </span>
    </div>
    <div class="digital-item">
      <span class="digital-label">ç³»ç»Ÿæ—¶é—´</span>
      <span class="digital-value" id="systemTime">00:00:00</span>
    </div>
  </div>

  <!-- æ ¸å¿ƒå®¹å™¨ -->
  <div class="core-container">
    <div class="glow-core" id="core" onclick="UI.toggleMenu()" role="button" tabindex="0" aria-label="æ¿€æ´»ç³»ç»Ÿæ ¸å¿ƒ"></div>
    <div class="menu-ring" id="menuRing" role="menu" aria-label="ç³»ç»ŸåŠŸèƒ½èœå•"></div>
  </div>

  <!-- æ—¥å¿—å¼€å…³ -->
  <button class="terminal-toggle" id="terminalToggle" aria-expanded="false" aria-controls="terminal">æ—¥å¿—</button>

  <!-- ç»ˆç«¯å®¹å™¨ -->
  <div class="terminal-container" id="terminal" role="log" aria-label="ç³»ç»Ÿæ—¥å¿—ç»ˆç«¯">
    <div class="terminal-header">
      <div class="terminal-title">ç³»ç»Ÿæ—¥å¿—ç»ˆç«¯</div>
      <div class="terminal-controls">
        <span class="terminal-control" id="clearLog" role="button" tabindex="0" aria-label="æ¸…ç©ºæ—¥å¿—">æ¸…ç©º</span>
        <span class="terminal-control" id="toggleTerminal" role="button" tabindex="0" aria-label="å…³é—­ç»ˆç«¯">å…³é—­</span>
      </div>
    </div>
    <div class="terminal-log" id="terminalLog"></div>
  </div>

  <!-- æ¨¡å—é¢æ¿å®¹å™¨ - ä½¿ç”¨æ¨¡æ¿å‡å°‘åˆå§‹DOMè´Ÿæ‹… -->
  <template id="panelTemplate">
    <div class="panel-header">
      <div class="panel-title"><span></span> <span class="panel-title-text"></span></div>
      <div class="panel-close" role="button" tabindex="0" aria-label="å…³é—­é¢æ¿">Ã—</div>
    </div>
    <div class="panel-content">
      <div class="placeholder-content">æ­£åœ¨åŠ è½½å†…å®¹...</div>
    </div>
  </template>

  <!-- é¢„å®šä¹‰çš„é¢æ¿ - å»¶è¿ŸåŠ è½½å†…å®¹ -->
  <div class="module-panel" id="aiChatPanel" aria-label="AIå¯¹è¯ç³»ç»Ÿé¢æ¿" role="dialog" aria-modal="true"></div>
  <div class="module-panel" id="fileManagerPanel" aria-label="æ–‡ä»¶ç®¡ç†å™¨é¢æ¿" role="dialog" aria-modal="true"></div>
  <div class="module-panel" id="consolePanel" aria-label="ç³»ç»Ÿæ§åˆ¶å°é¢æ¿" role="dialog" aria-modal="true"></div>
  <div class="module-panel" id="settingsPanel" aria-label="ç³»ç»Ÿè®¾ç½®é¢æ¿" role="dialog" aria-modal="true"></div>
  <div class="module-panel" id="searchPanel" aria-label="æœç´¢é¢æ¿" role="dialog" aria-modal="true"></div>
  <div class="module-panel" id="knowledgePanel" aria-label="çŸ¥è¯†åº“é¢æ¿" role="dialog" aria-modal="true"></div>

  <!-- ä½¿ç”¨æ¨¡å—åŒ–çš„JSæ¶æ„ -->
  <script type="module">
    // æ¨¡å—åŒ–JSæ¶æ„
    // æ ¸å¿ƒé…ç½®æ¨¡å—
    const Config = {
      // å…¨å±€é…ç½®
      particleCount: 30,      // ç²’å­æ•°é‡(ä½é…ç½®)
      particleSpeed: 0.3,     // ç²’å­ç§»åŠ¨é€Ÿåº¦
      animationDensity: 0,    // åŠ¨ç”»å¯†åº¦çº§åˆ«ï¼š0-ä½ï¼Œ1-ä¸­ï¼Œ2-é«˜
      loadDelay: 800,         // è½½å…¥å»¶è¿Ÿ(ms)
      enableBackgroundEffects: true,
      maxLogEntries: 30,      // æœ€å¤§æ—¥å¿—æ¡ç›®æ•°
      audioEnabled: false,    // é»˜è®¤ç¦ç”¨éŸ³æ•ˆ
      activePanel: null,

      // æŒä¹…åŒ–é…ç½® - ä½¿ç”¨localStorage
      saveSettings() {
        const settings = {
          performanceMode: State.performanceMode,
          audioEnabled: this.audioEnabled,
          darkMode: document.body.classList.contains('dark-mode')
        };
        localStorage.setItem('cmdCenterSettings', JSON.stringify(settings));
      },

      loadSettings() {
        try {
          const settings = JSON.parse(localStorage.getItem('cmdCenterSettings'));
          if (settings) {
            State.performanceMode = settings.performanceMode || 0;
            this.audioEnabled = settings.audioEnabled || false;
            
            // åº”ç”¨æ·±è‰²æ¨¡å¼
            if (settings.darkMode !== undefined) {
              document.body.classList.toggle('dark-mode', settings.darkMode);
            }
          }
        } catch (e) {
          console.error('è®¾ç½®åŠ è½½å¤±è´¥:', e);
        }
      }
    };

    // åº”ç”¨çŠ¶æ€æ¨¡å—
    const State = {
      isSystemActive: false,
      isMenuOpen: false,
      isTerminalVisible: false,
      loadedModules: new Set(),
      activeAnimationFrames: [], // å­˜å‚¨æ´»åŠ¨çš„requestAnimationFrame ID
      performanceMode: 0, // 0-ä½, 1-ä¸­, 2-é«˜
      lastFpsCheck: performance.now(),
      frameCount: 0,
      currentFps: 60,
      logHistory: [], // æ—¥å¿—å†å²

      // æ¶ˆæ¯æ€»çº¿ - ç”¨äºç»„ä»¶é—´é€šä¿¡
      eventBus: new EventTarget(),
      
      // è®¢é˜…äº‹ä»¶
      subscribe(event, callback) {
        this.eventBus.addEventListener(event, callback);
      },
      
      // å‘å¸ƒäº‹ä»¶
      publish(event, data = null) {
        const customEvent = new CustomEvent(event, { detail: data });
        this.eventBus.dispatchEvent(customEvent);
      }
    };

    // DOMå¼•ç”¨æ¨¡å— - ä½¿ç”¨å»¶è¿Ÿåˆå§‹åŒ–
    const DOM = {
      elements: {},
      
      // å»¶è¿Ÿåˆå§‹åŒ–DOMå¼•ç”¨ï¼Œå‡å°‘å¯åŠ¨å»¶è¿Ÿ
      init() {
        this.elements = {
          body: document.body,
          core: document.getElementById('core'),
          menuRing: document.getElementById('menuRing'),
          terminal: document.getElementById('terminal'),
          terminalLog: document.getElementById('terminalLog'),
          terminalToggle: document.getElementById('terminalToggle'),
          backgroundEffect: document.getElementById('backgroundEffect'),
          digitalReadout: document.getElementById('digitalReadout'),
          loadingOverlay: document.getElementById('loadingOverlay'),
          systemStatus: document.getElementById('systemStatus'),
          activeModule: document.getElementById('activeModule'),
          systemTime: document.getElementById('systemTime'),
          perfQualityBtns: document.querySelectorAll('.perf-quality')
        };
      },
      
      // è·å–å…ƒç´ 
      get(id) {
        if (!this.elements[id] && document.getElementById(id)) {
          this.elements[id] = document.getElementById(id);
        }
        return this.elements[id];
      },
      
      // åˆ›å»ºå…ƒç´ 
      create(tag, options = {}) {
        const element = document.createElement(tag);
        
        if (options.classes) {
          element.classList.add(...options.classes);
        }
        
        if (options.attributes) {
          for (const [key, value] of Object.entries(options.attributes)) {
            element.setAttribute(key, value);
          }
        }
        
        if (options.text) {
          element.textContent = options.text;
        }
        
        if (options.html) {
          element.innerHTML = options.html;
        }
        
        if (options.parent) {
          options.parent.appendChild(element);
        }
        
        return element;
      }
    };

    // UIæ§åˆ¶æ¨¡å—
    const UI = {
      // åˆå§‹åŒ–UI
      init() {
        this.setupEventListeners();
        this.initPanels();
      },
      
      // è®¾ç½®äº‹ä»¶ç›‘å¬
      setupEventListeners() {
        // ä½¿ç”¨äº‹ä»¶å§”æ‰˜å‡å°‘ç›‘å¬å™¨æ•°é‡
        document.addEventListener('click', this.handleGlobalClick.bind(this));
        document.addEventListener('keydown', this.handleGlobalKeydown.bind(this));
        
        // ç‰¹å®šå…ƒç´ ç›‘å¬
        DOM.get('terminalToggle').addEventListener('click', () => Logger.toggleTerminal());
        DOM.get('clearLog').addEventListener('click', () => Logger.clearLogs());
        DOM.get('toggleTerminal').addEventListener('click', () => Logger.toggleTerminal(false));
        
        // æ€§èƒ½è´¨é‡é€‰æ‹©äº‹ä»¶å§”æ‰˜
        const perfControls = document.querySelector('.perf-controls');
        perfControls.addEventListener('click', (e) => {
          if (e.target.classList.contains('perf-quality')) {
            const quality = parseInt(e.target.dataset.quality);
            System.setPerformanceQuality(quality);
            
            // æ›´æ–°UI
            DOM.get('perfQualityBtns').forEach(b => {
              b.classList.remove('active');
              b.setAttribute('aria-checked', 'false');
            });
            e.target.classList.add('active');
            e.target.setAttribute('aria-checked', 'true');
          }
        });
        
        // çª—å£äº‹ä»¶ - ä½¿ç”¨èŠ‚æµå‡å°‘é¢‘ç¹è§¦å‘
        window.addEventListener('resize', this.throttle(this.handleResize.bind(this), 200));
      },
      
      // åˆå§‹åŒ–é¢æ¿ - ä½¿ç”¨æ¨¡æ¿å’Œå»¶è¿ŸåŠ è½½
      initPanels() {
        const panels = document.querySelectorAll('.module-panel');
        const template = document.getElementById('panelTemplate');
        
        panels.forEach(panel => {
          // ä½¿ç”¨å…‹éš†æ¨¡æ¿è€Œä¸æ˜¯åˆ›å»ºå…¨æ–°DOM
          const content = template.content.cloneNode(true);
          
          // æ ¹æ®IDè®¾ç½®é¢æ¿æ ‡é¢˜
          const panelId = panel.id;
          let icon, title;
          
          switch(panelId) {
            case 'aiChatPanel':
              icon = 'ğŸ§ '; title = 'AIå¯¹è¯ç³»ç»Ÿ';
              break;
            case 'fileManagerPanel':
              icon = 'ğŸ—‚ï¸'; title = 'Promptç®¡ç†';
              break;
            case 'consolePanel':
              icon = 'ğŸ“Š'; title = 'ç³»ç»Ÿæ§åˆ¶å°';
              break;
            case 'settingsPanel':
              icon = 'ğŸ”§'; title = 'ç³»ç»Ÿè®¾ç½®';
              break;
            case 'searchPanel':
              icon = 'ğŸ”'; title = 'æœç´¢';
              break;
            case 'knowledgePanel':
              icon = 'ğŸ“š'; title = 'çŸ¥è¯†åº“';
              break;
            default:
              icon = 'ğŸ“„'; title = 'æœªçŸ¥æ¨¡å—';
          }
          
          content.querySelector('.panel-title span').textContent = icon;
          content.querySelector('.panel-title-text').textContent = title;
          
          // è®¾ç½®å…³é—­æŒ‰é’®å¤„ç†
          content.querySelector('.panel-close').addEventListener('click', () => {
            this.togglePanel(panelId, false);
          });
          
          panel.appendChild(content);
        });
      },
      
      // å…¨å±€ç‚¹å‡»å¤„ç† - ä½¿ç”¨äº‹ä»¶å§”æ‰˜
      handleGlobalClick(e) {
        const target = e.target;
        
        // æ£€æµ‹æŒ‰é’®ç‚¹å‡»
        if (target.closest('.module-btn')) {
          const btn = target.closest('.module-btn');
          const moduleId = btn.dataset.moduleId;
          if (moduleId) {
            this.activateModule({
              id: moduleId,
              name: btn.querySelector('.module-tooltip h4').textContent
            });
          }
        }
      },
      
      // å…¨å±€é”®ç›˜å¤„ç† - å¢å¼ºæ— éšœç¢
      handleGlobalKeydown(e) {
        // Escapeå…³é—­é¢æ¿
        if (e.key === 'Escape') {
          if (Config.activePanel) {
            this.togglePanel(Config.activePanel, false);
          } else if (State.isMenuOpen) {
            this.toggleMenu();
          }
        }
        
        // å›è½¦é”®æ¿€æ´»é€‰ä¸­å…ƒç´ 
        if (e.key === 'Enter') {
          if (document.activeElement.classList.contains('module-btn')) {
            document.activeElement.click();
          } else if (document.activeElement.classList.contains('perf-quality')) {
            document.activeElement.click();
          } else if (document.activeElement.classList.contains('terminal-control')) {
            document.activeElement.click();
          } else if (document.activeElement.classList.contains('panel-close')) {
            document.activeElement.click();
          } else if (document.activeElement === DOM.get('core')) {
            this.toggleMenu();
          }
        }
      },
      
      // èŠ‚æµå‡½æ•° - é˜²æ­¢è¿‡å¤šè§¦å‘
      throttle(func, limit) {
        let lastCall = 0;
        return function(...args) {
          const now = Date.now();
          if (now - lastCall >= limit) {
            lastCall = now;
            func.apply(this, args);
          }
        };
      },
      
      // è°ƒæ•´çª—å£å¤§å°å¤„ç†
      handleResize() {
        // å®ç°å“åº”å¼å¸ƒå±€è°ƒæ•´
        const width = window.innerWidth;
        if (width < 768) {
          // ç§»åŠ¨è§†å›¾è°ƒæ•´
          document.body.classList.add('mobile-view');
        } else {
          document.body.classList.remove('mobile-view');
        }
      },
      
      // åˆ‡æ¢èœå•
      toggleMenu() {
        if (!State.isSystemActive) {
          System.activateSystem();
          return;
        }
        
        State.isMenuOpen = !State.isMenuOpen;
        DOM.get('menuRing').classList.toggle('active', State.isMenuOpen);
        
        if (State.isMenuOpen) {
          // é¦–æ¬¡æ‰“å¼€èœå•æ—¶æ‰åˆ›å»ºæŒ‰é’®
          if (DOM.get('menuRing').children.length === 0) {
            this.createModuleButtons();
          }
          
          // åŠ¨ç”»æŒ‰é’®
          const buttons = document.querySelectorAll('.module-btn');
          buttons.forEach((btn, index) => {
            // ä½¿ç”¨WebåŠ¨ç”»APIä»£æ›¿æ ·å¼åŠ¨ç”»
            btn.animate([
              { opacity: 0, transform: 'translateY(20px)' },
              { opacity: 1, transform: 'translateY(0)' }
            ], {
              duration: 500,
              delay: index * 100,
              fill: 'forwards',
              easing: 'cubic-bezier(0.16, 1, 0.3, 1)'
            });
          });
          
          Logger.logAction('å‘½ä»¤èœå•å·²å±•å¼€', 'info');
        } else {
          Logger.logAction('å‘½ä»¤èœå•å·²æ”¶èµ·', 'info');
        }
      },
      
      // åˆ›å»ºæ¨¡å—æŒ‰é’® - ä½¿ç”¨DocumentFragmentå‡å°‘é‡æ’
      createModuleButtons() {
        const modules = [
          { id: 'aiChatPanel', icon: 'ğŸ§ ', name: 'AIå¯¹è¯', desc: 'ä¸AIåŠ©æ‰‹è¿›è¡Œå¯¹è¯äº¤æµ', color: 'rgba(64, 190, 255, 0.7)' },
          { id: 'fileManagerPanel', icon: 'ğŸ—‚ï¸', name: 'Promptç®¡ç†', desc: 'ç®¡ç†æ‚¨çš„æ–‡ä»¶å’Œæ–‡æ¡£', color: 'rgba(190, 64, 255, 0.7)' },
          { id: 'consolePanel', icon: 'ğŸ“Š', name: 'æ§åˆ¶å°', desc: 'ç³»ç»Ÿç›‘æ§ä¸å‘½ä»¤ä¸­å¿ƒ', color: 'rgba(255, 190, 64, 0.7)' },
          { id: 'settingsPanel', icon: 'ğŸ”§', name: 'è®¾ç½®', desc: 'è‡ªå®šä¹‰ç³»ç»Ÿè¡Œä¸ºä¸å¤–è§‚', color: 'rgba(64, 255, 128, 0.7)' },
          { id: 'searchPanel', icon: 'ğŸ”', name: 'æœç´¢', desc: 'æœç´¢ç³»ç»Ÿå†…å®¹å’Œèµ„æº', color: 'rgba(255, 64, 120, 0.7)' },
          { id: 'knowledgePanel', icon: 'ğŸ“š', name: 'çŸ¥è¯†åº“', desc: 'è®¿é—®ç³»ç»Ÿå†…ç½®çŸ¥è¯†èµ„æº', color: 'rgba(128, 255, 64, 0.7)' }
        ];
        
        // ä½¿ç”¨DocumentFragmentå‡å°‘DOMé‡æ’
        const fragment = document.createDocumentFragment();
        
        modules.forEach((module, index) => {
          const angle = (index / modules.length) * Math.PI * 2;
          const btn = document.createElement('div');
          btn.className = 'module-btn';
          btn.id = `module-btn-${index}`;
          btn.dataset.moduleId = module.id;
          btn.setAttribute('role', 'menuitem');
          btn.setAttribute('tabindex', '0');
          btn.setAttribute('aria-label', module.name);
          btn.style.backgroundColor = module.color;
          btn.innerHTML = `
            ${module.icon}
            <div class="module-tooltip" role="tooltip">
              <h4>${module.name}</h4>
              <p>${module.desc}</p>
            </div>
          `;
          
          // ç¯å½¢å¸ƒå±€
          const radius = 150; // è·ä¸­å¿ƒçš„åŠå¾„
          const x = Math.cos(angle) * radius;
          const y = Math.sin(angle) * radius;
          
          btn.style.left = `calc(50% + ${x}px - 40px)`;
          btn.style.top = `calc(50% + ${y}px - 40px)`;
          
          fragment.appendChild(btn);
        });
        
        // ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰æŒ‰é’®
        DOM.get('menuRing').appendChild(fragment);
        
        Logger.logAction('æ¨¡å—æŒ‰é’®å·²åˆ›å»º', 'info');
      },
      
      // æ¿€æ´»æ¨¡å—
      activateModule(module) {
        Logger.logAction(`æ­£åœ¨åŠ è½½ ${module.name} æ¨¡å—...`, 'info');
        
        // è§†è§‰åé¦ˆï¼šæ‰€æœ‰æŒ‰é’®å–æ¶ˆæ¿€æ´»çŠ¶æ€
        document.querySelectorAll('.module-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        
        // æ‰¾åˆ°å½“å‰ç‚¹å‡»çš„æŒ‰é’®å¹¶æ¿€æ´»
        const btn = document.querySelector(`.module-btn[data-module-id="${module.id}"]`);
        if (btn) btn.classList.add('active');
        
        // æ›´æ–°æ´»åŠ¨æ¨¡å—æŒ‡ç¤ºå™¨
        DOM.get('activeModule').textContent = module.name;
        
        // æ‰“å¼€å¯¹åº”çš„é¢æ¿ï¼Œé¦–æ¬¡æ—¶å»¶è¿ŸåŠ è½½å†…å®¹
        this.togglePanel(module.id, true);
      },
      
      // åˆ‡æ¢é¢æ¿ - ä½¿ç”¨IntersectionObserveræ‡’åŠ è½½å†…å®¹
      togglePanel(panelId, show) {
        const panel = document.getElementById(panelId);
        if (!panel) return;
        
        const allPanels = document.querySelectorAll('.module-panel');
        
        if (show) {
          // éšè—æ‰€æœ‰å…¶ä»–é¢æ¿
          allPanels.forEach(p => {
            if (p.id !== panelId) {
              p.classList.remove('active');
              p.setAttribute('aria-hidden', 'true');
            }
          });
          
          // æ˜¾ç¤ºå½“å‰é¢æ¿
          panel.classList.add('active');
          panel.setAttribute('aria-hidden', 'false');
          Config.activePanel = panelId;
          
          // å¦‚æœæ˜¯é¦–æ¬¡åŠ è½½è¯¥é¢æ¿ï¼Œä½¿ç”¨IntersectionObserverå»¶è¿ŸåŠ è½½å†…å®¹
          if (!State.loadedModules.has(panelId)) {
            this.lazyLoadPanelContent(panel, panelId);
          }
          
          // è®°å½•åˆ°æ—¥å¿—
          const moduleName = panel.querySelector('.panel-title-text').textContent.trim();
          Logger.logAction(`${moduleName} é¢æ¿å·²æ‰“å¼€`, 'info');
          
          // è§¦å‘é¢æ¿å·²æ‰“å¼€äº‹ä»¶
          State.publish('panelOpened', { panelId });
        } else {
          // éšè—å½“å‰é¢æ¿
          panel.classList.remove('active');
          panel.setAttribute('aria-hidden', 'true');
          Config.activePanel = null;
          
          // è®°å½•åˆ°æ—¥å¿—
          const moduleName = panel.querySelector('.panel-title-text').textContent.trim();
          Logger.logAction(`${moduleName} é¢æ¿å·²å…³é—­`, 'info');
          
          // é‡ç½®æŒ‰é’®æ¿€æ´»çŠ¶æ€
          document.querySelectorAll('.module-btn').forEach(btn => {
            btn.classList.remove('active');
          });
          
          DOM.get('activeModule').textContent = "æ— ";
          
          // è§¦å‘é¢æ¿å·²å…³é—­äº‹ä»¶
          State.publish('panelClosed', { panelId });
        }
      },
      
      // æ‡’åŠ è½½é¢æ¿å†…å®¹
      lazyLoadPanelContent(panel, panelId) {
        // ä½¿ç”¨IntersectionObserverè§‚å¯Ÿé¢æ¿æ˜¯å¦å¯è§
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              // æ˜¯å¦å·²åŠ è½½
              if (!State.loadedModules.has(panelId)) {
                this.loadModuleContent(panelId);
              }
              observer.disconnect();
            }
          });
        }, { threshold: 0.1 });
        
        observer.observe(panel);
      },
      
      // åŠ¨æ€åŠ è½½æ¨¡å—å†…å®¹ - ä½¿ç”¨å¼‚æ­¥åŠ è½½
      async loadModuleContent(panelId) {
        if (State.loadedModules.has(panelId)) return;
        
        const panel = document.getElementById(panelId);
        if (!panel) return;
        
        const contentElement = panel.querySelector('.panel-content');
        if (!contentElement) return;
        
        // æ˜¾ç¤ºåŠ è½½æŒ‡ç¤ºå™¨
        contentElement.innerHTML = '<div class="loading-indicator">åŠ è½½ä¸­...</div>';
        
        try {
          // æ¨¡æ‹Ÿå¼‚æ­¥åŠ è½½
          await new Promise(resolve => setTimeout(resolve, 300));
          
          let contentHTML = '';
          
          switch(panelId) {
            case 'aiChatPanel':
              contentHTML = await ModuleLoader.loadAiChatModule();
              break;
              
            case 'fileManagerPanel':
              contentHTML = await ModuleLoader.loadFileManagerModule();
              break;
              
            case 'consolePanel':
              contentHTML = await ModuleLoader.loadConsoleModule();
              break;
              
            case 'settingsPanel':
              contentHTML = await ModuleLoader.loadSettingsModule();
              break;
              
            case 'searchPanel':
              contentHTML = await ModuleLoader.loadSearchModule();
              break;
              
            case 'knowledgePanel':
              contentHTML = await ModuleLoader.loadKnowledgeModule();
              break;
              
            default:
              contentHTML = `<div class="placeholder-content">æ¨¡å— ${panelId} å°šæœªå®ç°</div>`;
          }
          
          // ä½¿ç”¨DocumentFragmentå‡å°‘DOMæ“ä½œ
          const temp = document.createElement('div');
          temp.innerHTML = contentHTML;
          const fragment = document.createDocumentFragment();
          
          while (temp.firstChild) {
            fragment.appendChild(temp.firstChild);
          }
          
          // æ¸…ç©ºåŠ è½½æŒ‡ç¤ºå™¨å¹¶æ’å…¥å†…å®¹
          contentElement.innerHTML = '';
          contentElement.appendChild(fragment);
          
          // ä¸ºæ–°åŠ è½½çš„å†…å®¹æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
          this.setupModuleEvents(panelId);
          
          // æ·»åŠ åˆ°å·²åŠ è½½æ¨¡å—é›†åˆ
          State.loadedModules.add(panelId);
          
          Logger.logAction(`${panelId} å†…å®¹å·²åŠ è½½`, 'success');
          
          // è§¦å‘æ¨¡å—åŠ è½½å®Œæˆäº‹ä»¶
          State.publish('moduleLoaded', { panelId });
        } catch (error) {
          contentElement.innerHTML = `<div class="error-message">åŠ è½½å¤±è´¥: ${error.message}</div>`;
          Logger.logAction(`${panelId} åŠ è½½å¤±è´¥: ${error.message}`, 'error');
        }
      },
      
      // è®¾ç½®æ¨¡å—ç‰¹å®šäº‹ä»¶å¤„ç†
      setupModuleEvents(panelId) {
        switch(panelId) {
          case 'aiChatPanel':
            const chatInput = document.getElementById('chatInput');
            const chatSend = document.querySelector('.chat-send');
            
            if (chatInput) {
              chatInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                  ChatModule.sendMessage();
                }
              });
              
              // èšç„¦è¾“å…¥æ¡†
              setTimeout(() => chatInput.focus(), 100);
            }
            
            if (chatSend) {
              chatSend.addEventListener('click', () => {
                ChatModule.sendMessage();
              });
            }
            break;
            
          case 'settingsPanel':
            // ä¸»é¢˜åˆ‡æ¢
            const themeToggle = document.getElementById('themeToggle');
            if (themeToggle) {
              themeToggle.addEventListener('click', () => {
                document.body.classList.toggle('dark-theme');
                Config.saveSettings();
              });
            }
            
            // ç‰¹æ•ˆå¼€å…³
            const effectsToggle = document.getElementById('effectsToggle');
            if (effectsToggle) {
              effectsToggle.addEventListener('click', () => {
                Config.enableBackgroundEffects = !Config.enableBackgroundEffects;
                DOM.get('backgroundEffect').style.display = Config.enableBackgroundEffects ? 'block' : 'none';
                Config.saveSettings();
              });
            }
            
            // éŸ³æ•ˆå¼€å…³
            const audioToggle = document.getElementById('audioToggle');
            if (audioToggle) {
              audioToggle.addEventListener('click', () => {
                Config.audioEnabled = !Config.audioEnabled;
                Config.saveSettings();
              });
            }
            
            // åŠ¨ç”»é€Ÿåº¦æ»‘å—
            const animSpeedSlider = document.getElementById('animSpeedSlider');
            const animSpeedValue = document.getElementById('animSpeedValue');
            
            if (animSpeedSlider && animSpeedValue) {
              animSpeedSlider.addEventListener('input', () => {
                const value = animSpeedSlider.value;
                animSpeedValue.textContent = `${value}%`;
                document.documentElement.style.setProperty('--anim-duration', `${400 - value * 3}ms`);
              });
            }
            break;
        }
      }
    };

    // æ¨¡å—åŠ è½½å™¨
    const ModuleLoader = {
      // AIèŠå¤©æ¨¡å—
      async loadAiChatModule() {
        return `
          <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
              <div class="chat-message ai">
                æ¬¢è¿ä½¿ç”¨AIå¯¹è¯ç³»ç»Ÿã€‚è¯·è¾“å…¥æ‚¨çš„é—®é¢˜æˆ–æŒ‡ä»¤...
              </div>
            </div>
            <div class="chat-input-container">
              <input type="text" class="chat-input" id="chatInput" placeholder="è¾“å…¥æ‚¨çš„é—®é¢˜..." aria-label="èŠå¤©è¾“å…¥æ¡†">
              <div class="chat-send" role="button" tabindex="0" aria-label="å‘é€æ¶ˆæ¯">â¤</div>
            </div>
          </div>
        `;
      },
      
      // æ–‡ä»¶ç®¡ç†æ¨¡å—
      async loadFileManagerModule() {
        return `
          <div class="files-container">
            <div class="files-toolbar">
              <div class="files-btn" role="button" tabindex="0"><span>ğŸ“‚</span> æ–°å»ºæ–‡ä»¶å¤¹</div>
              <div class="files-btn" role="button" tabindex="0"><span>ğŸ“„</span> ä¸Šä¼ æ–‡ä»¶</div>
              <div class="files-btn" role="button" tabindex="0"><span>ğŸ”</span> æœç´¢</div>
            </div>
            <div class="files-list">
              <div class="file-item" tabindex="0" role="listitem">
                <div class="file-icon">ğŸ“</div>
                <div class="file-details">
                  <div class="file-name">ç³»ç»Ÿæ–‡ä»¶</div>
                  <div class="file-meta">2025-05-12 åˆ›å»º</div>
                </div>
              </div>
              <div class="file-item" tabindex="0" role="listitem">
                <div class="file-icon">ğŸ“</div>
                <div class="file-details">
                  <div class="file-name">é¡¹ç›®æ–‡æ¡£</div>
                  <div class="file-meta">2025-05-10 åˆ›å»º</div>
                </div>
              </div>
              <div class="file-item" tabindex="0" role="listitem">
                <div class="file-icon">ğŸ“„</div>
                <div class="file-details">
                  <div class="file-name">ä¼šè®®è®°å½•.txt</div>
                  <div class="file-meta">27.4 KB â€¢ 2025-05-11 ä¿®æ”¹</div>
                </div>
              </div>
            </div>
          </div>
        `;
      },
      
      // æ§åˆ¶å°æ¨¡å—
      async loadConsoleModule() {
        return `
          <div class="console-container">
            <div class="console-output" id="consoleOutput" aria-live="polite">
              <div class="console-line"><span class="console-prompt">$</span> <span class="console-command">system.status</span></div>
              <div class="console-line console-result">ç³»ç»Ÿè¿è¡Œæ­£å¸¸ï¼Œå½“å‰ç‰ˆæœ¬: v1.2.4</div>
              <div class="console-line"><span class="console-prompt">$</span> <span class="console-command">list.modules</span></div>
              <div class="console-line console-result">å·²åŠ è½½æ¨¡å—: AIå¯¹è¯, æ–‡ä»¶ç®¡ç†å™¨, æ§åˆ¶å°, è®¾ç½®</div>
            </div>
            <div class="console-input">
              <span>$</span>
              <input type="text" placeholder="è¾“å…¥å‘½ä»¤..." id="consoleInput" aria-label="æ§åˆ¶å°å‘½ä»¤è¾“å…¥">
            </div>
          </div>
        `;
      },
      
      // è®¾ç½®æ¨¡å—
      async loadSettingsModule() {
        return `
          <div class="settings-container">
            <div class="settings-group">
              <div class="settings-group-title">ç•Œé¢è®¾ç½®</div>
              <div class="setting-item">
                <div class="setting-label">æ·±è‰²æ¨¡å¼</div>
                <div class="setting-value">
                  <div class="toggle-switch active" id="themeToggle" role="switch" aria-checked="true" tabindex="0"></div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-label">èƒŒæ™¯åŠ¨ç”»</div>
                <div class="setting-value">
                  <div class="toggle-switch active" id="effectsToggle" role="switch" aria-checked="true" tabindex="0"></div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-label">éŸ³æ•ˆ</div>
                <div class="setting-value">
                  <div class="toggle-switch" id="audioToggle" role="switch" aria-checked="false" tabindex="0"></div>
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-label">åŠ¨ç”»é€Ÿåº¦</div>
                <div class="setting-value">
                  <div class="slider-container">
                    <input type="range" min="0" max="100" value="70" class="slider" id="animSpeedSlider" aria-label="åŠ¨ç”»é€Ÿåº¦">
                    <span class="slider-value" id="animSpeedValue">70%</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
      },
      
      // æœç´¢æ¨¡å—
      async loadSearchModule() {
        return `
          <div class="search-container">
            <div class="search-header">
              <input type="text" class="search-input" placeholder="æœç´¢ç³»ç»Ÿå†…å®¹..." aria-label="æœç´¢è¾“å…¥æ¡†">
              <div class="search-button" role="button" tabindex="0" aria-label="æ‰§è¡Œæœç´¢">æœç´¢</div>
            </div>
            <div class="search-filters">
              <div class="filter-item active" role="checkbox" aria-checked="true" tabindex="0">æ‰€æœ‰å†…å®¹</div>
              <div class="filter-item" role="checkbox" aria-checked="false" tabindex="0">æ–‡æ¡£</div>
              <div class="filter-item" role="checkbox" aria-checked="false" tabindex="0">å¯¹è¯</div>
              <div class="filter-item" role="checkbox" aria-checked="false" tabindex="0">ç³»ç»Ÿ</div>
            </div>
            <div class="search-results" aria-live="polite">
              <div class="placeholder-content">è¯·è¾“å…¥å…³é”®è¯å¼€å§‹æœç´¢</div>
            </div>
          </div>
        `;
      },
      
      // çŸ¥è¯†åº“æ¨¡å—
      async loadKnowledgeModule() {
        return `
          <div class="knowledge-container">
            <div class="knowledge-categories">
              <div class="category-item active" tabindex="0" role="tab" aria-selected="true">ç³»ç»Ÿæ‰‹å†Œ</div>
              <div class="category-item" tabindex="0" role="tab" aria-selected="false">å¸¸è§é—®é¢˜</div>
              <div class="category-item" tabindex="0" role="tab" aria-selected="false">APIæ–‡æ¡£</div>
              <div class="category-item" tabindex="0" role="tab" aria-selected="false">æ•™ç¨‹</div>
            </div>
            <div class="knowledge-content" aria-live="polite">
              <h3>ç³»ç»Ÿæ‰‹å†Œ</h3>
              <div class="knowledge-section">
                <h4>åŸºç¡€æ“ä½œ</h4>
                <p>ç‚¹å‡»ä¸­å¤®æ ¸å¿ƒæ¿€æ´»ç³»ç»Ÿï¼Œç¬¬äºŒæ¬¡ç‚¹å‡»å±•å¼€æ¨¡å—èœå•ã€‚
                ä»èœå•é€‰æ‹©éœ€è¦çš„åŠŸèƒ½æ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—æä¾›ä¸åŒçš„ç³»ç»ŸåŠŸèƒ½ã€‚</p>
              </div>
              <div class="knowledge-section">
                <h4>æ€§èƒ½ä¼˜åŒ–</h4>
                <p>å·¦ä¸Šè§’çš„è´¨é‡é€‰æ‹©å™¨å¯ä»¥æ ¹æ®è®¾å¤‡æ€§èƒ½è°ƒæ•´è§†è§‰æ•ˆæœçš„å¤æ‚åº¦ã€‚
                ä½æ€§èƒ½è®¾å¤‡å»ºè®®é€‰æ‹©"ä½"æ¨¡å¼ä»¥è·å¾—æœ€ä½³ä½“éªŒã€‚</p>
              </div>
            </div>
          </div>
        `;
      }
    };

    // ç³»ç»Ÿæ ¸å¿ƒåŠŸèƒ½
    const System = {
      init() {
        // åŠ è½½ç”¨æˆ·è®¾ç½®
        Config.loadSettings();
        
        // åº”ç”¨åˆå§‹è®¾ç½®
        this.setPerformanceQuality(State.performanceMode);
        
        // ä¿®æ”¹DOMå±æ€§
        DOM.get('terminalToggle').setAttribute('aria-expanded', 'false');
        
        // å¯åŠ¨æ—¶é’Ÿ
        this.startClock();

        // åˆå§‹åŒ–èƒŒæ™¯æ•ˆæœ
        this.initBackgroundEffect();
        
        // ç»“æŸåŠ è½½å±å¹•
        setTimeout(() => {
          DOM.get('loadingOverlay').style.opacity = '0';
          setTimeout(() => {
            DOM.get('loadingOverlay').style.display = 'none';
            // æ˜¾ç¤ºæ•°å­—è¯»æ•°å™¨
            DOM.get('digitalReadout').classList.add('visible');
          }, 500);
        }, Config.loadDelay);
      },
      
      // æ¿€æ´»ç³»ç»Ÿ
      activateSystem() {
        if(State.isSystemActive) return;
        
        State.isSystemActive = true;
        DOM.get('core').style.boxShadow = "0 0 50px 25px var(--core-glow)";
        
        // åº”ç”¨åŠ¨ç”»ï¼ŒåŸºäºæ€§èƒ½æ¨¡å¼
        if(State.performanceMode > 0) {
          DOM.get('core').style.animation = "pulse 4s infinite alternate, rotate 20s linear infinite";
          
          // æ˜¾ç¤ºèƒŒæ™¯æ•ˆæœ
          DOM.get('backgroundEffect').style.opacity = '0.6';
        } else {
          // ä½é…ç½®åªåº”ç”¨ç®€å•åŠ¨ç”»
          DOM.get('core').style.animation = "pulse 6s infinite alternate";
        }
        
        // æ›´æ–°çŠ¶æ€
        DOM.get('systemStatus').textContent = 'å·²æ¿€æ´»';
        
        Logger.logAction('ç³»ç»Ÿæ ¸å¿ƒå·²æ¿€æ´»', 'success');
        
        // è§¦å‘ç³»ç»Ÿæ¿€æ´»äº‹ä»¶
        State.publish('systemActivated');
      },
      
      // è®¾ç½®æ€§èƒ½è´¨é‡
      setPerformanceQuality(level) {
        State.performanceMode = level;
        
        // æ›´æ–°CSSå˜é‡
        document.documentElement.style.setProperty('--anim-duration', level === 0 ? '600ms' : level === 1 ? '400ms' : '300ms');
        
        switch(level) {
          case 0: // ä½
            Config.particleCount = 20;
            Config.particleSpeed = 0.2;
            break;
          case 1: // ä¸­
            Config.particleCount = 50;
            Config.particleSpeed = 0.3;
            break;
          case 2: // é«˜
            Config.particleCount = 100;
            Config.particleSpeed = 0.5;
            break;
        }
        
        Logger.logAction(`æ€§èƒ½è´¨é‡å·²è®¾ç½®ä¸º: ${level === 0 ? 'ä½' : level === 1 ? 'ä¸­' : 'é«˜'}`, 'info');
        
        // ä¿å­˜è®¾ç½®
        Config.saveSettings();
        
        // è§¦å‘æ€§èƒ½æ¨¡å¼å˜æ›´äº‹ä»¶
        State.publish('performanceModeChanged', { level });
      },
      
      // åˆå§‹åŒ–èƒŒæ™¯æ•ˆæœ
      initBackgroundEffect() {
        const backgroundEffect = DOM.get('backgroundEffect');
        
        // ç®€åŒ–èƒŒæ™¯æ•ˆæœï¼Œä»…ä½¿ç”¨CSS Grid
        backgroundEffect.style.opacity = State.performanceMode > 0 ? '0.6' : '0.3';
      },
      
      // æ›´æ–°æ—¶é’Ÿ
      startClock() {
        const updateClock = () => {
          const now = new Date();
          const hours = now.getHours().toString().padStart(2, '0');
          const minutes = now.getMinutes().toString().padStart(2, '0');
          const seconds = now.getSeconds().toString().padStart(2, '0');
          DOM.get('systemTime').textContent = `${hours}:${minutes}:${seconds}`;
        };
        
        // ç«‹å³æ›´æ–°ä¸€æ¬¡
        updateClock();
        
        // è®¾ç½®æ›´æ–°é—´éš”
        setInterval(updateClock, 1000);
      },
      
      // ç›‘æ§æ€§èƒ½
      monitorPerformance() {
        // ä½¿ç”¨requestAnimationFrameè®¡ç®—FPS
        let frameCount = 0;
        let lastTime = performance.now();
        
        const countFrames = () => {
          frameCount++;
          const now = performance.now();
          
          // æ¯ç§’è®¡ç®—ä¸€æ¬¡FPS
          if (now - lastTime >= 1000) {
            State.currentFps = frameCount;
            frameCount = 0;
            lastTime = now;
            
            // FPSè¿‡ä½æ—¶è‡ªåŠ¨é™ä½è´¨é‡
            if (State.currentFps < 30 && State.performanceMode > 0) {
              this.setPerformanceQuality(State.performanceMode - 1);
              Logger.logAction(`æ£€æµ‹åˆ°æ€§èƒ½é—®é¢˜ï¼Œè‡ªåŠ¨é™ä½ç”»è´¨ (${State.currentFps} FPS)`, 'warning');
            }
          }
          
          requestAnimationFrame(countFrames);
        };
        
        // å¼€å§‹ç›‘æ§
        requestAnimationFrame(countFrames);
      }
    };

    // æ—¥å¿—ç®¡ç†æ¨¡å—
    const Logger = {
      maxLogEntries: 30,
      
      // è®°å½•æ“ä½œ
      logAction(message, type = 'info') {
        const now = new Date();
        const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
        
        // æ„å»ºæ—¥å¿—å¯¹è±¡
        const logEntry = {
          time: timeStr,
          type: type,
          message: message
        };
        
        // æ·»åŠ åˆ°å†å²
        State.logHistory.push(logEntry);
        
        // é™åˆ¶å†å²é•¿åº¦
        if (State.logHistory.length > this.maxLogEntries) {
          State.logHistory.shift();
        }
        
        // å¦‚æœç»ˆç«¯å¯è§ï¼Œæ‰æ›´æ–°DOM
        if (State.isTerminalVisible) {
          this.renderLog(logEntry);
        }
        
        // æ§åˆ¶å°æ‰“å°
        console.log(`[${type.toUpperCase()}] ${message}`);
        
        // è§¦å‘æ—¥å¿—äº‹ä»¶
        State.publish('logEntry', logEntry);
      },
      
      // æ¸²æŸ“å•æ¡æ—¥å¿—ï¼ˆé«˜æ•ˆDOMæ“ä½œï¼‰
      renderLog(logEntry) {
        const terminalLog = DOM.get('terminalLog');
        
        // ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µå‡å°‘é‡æ’
        const fragment = document.createDocumentFragment();
        const logElement = document.createElement('div');
        logElement.className = 'log-entry';
        logElement.innerHTML = `
          <span class="log-time">[${logEntry.time}]</span>
          <span class="log-type ${logEntry.type}">[${logEntry.type.toUpperCase()}]</span>
          <span class="log-content">${logEntry.message}</span>
        `;
        
        fragment.appendChild(logElement);
        terminalLog.appendChild(fragment);
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        terminalLog.scrollTop = terminalLog.scrollHeight;
      },
      
      // åˆ‡æ¢ç»ˆç«¯å¯è§æ€§
      toggleTerminal(show = null) {
        if (show === null) {
          show = !State.isTerminalVisible;
        }
        
        State.isTerminalVisible = show;
        const terminal = DOM.get('terminal');
        terminal.classList.toggle('visible', show);
        DOM.get('terminalToggle').setAttribute('aria-expanded', show ? 'true' : 'false');
        
        // å¦‚æœæ˜¾ç¤ºï¼Œæ¸²æŸ“æ‰€æœ‰æ—¥å¿—
        if (show && State.logHistory.length > 0) {
          // æ¸…ç©ºç°æœ‰æ—¥å¿—
          DOM.get('terminalLog').innerHTML = '';
          
          // ä½¿ç”¨DocumentFragmentæ‰¹é‡æ·»åŠ 
          const fragment = document.createDocumentFragment();
          
          State.logHistory.forEach(entry => {
            const logElement = document.createElement('div');
            logElement.className = 'log-entry';
            logElement.innerHTML = `
              <span class="log-time">[${entry.time}]</span>
              <span class="log-type ${entry.type}">[${entry.type.toUpperCase()}]</span>
              <span class="log-content">${entry.message}</span>
            `;
            fragment.appendChild(logElement);
          });
          
          DOM.get('terminalLog').appendChild(fragment);
          DOM.get('terminalLog').scrollTop = DOM.get('terminalLog').scrollHeight;
        }
        
        this.logAction(show ? 'ç»ˆç«¯å·²æ˜¾ç¤º' : 'ç»ˆç«¯å·²éšè—', 'info');
      },
      
      // æ¸…ç©ºæ—¥å¿—
      clearLogs() {
        // æ¸…ç©ºDOM
        DOM.get('terminalLog').innerHTML = '';
        // æ¸…ç©ºå†å²
        State.logHistory = [];
        this.logAction('æ—¥å¿—å·²æ¸…ç©º', 'info');
      }
    };

    // AIèŠå¤©æ¨¡å—
    const ChatModule = {
      messageHistory: [],
      
      // å‘é€æ¶ˆæ¯
      sendMessage() {
        const chatInput = document.getElementById('chatInput');
        if (!chatInput) return;
        
        const message = chatInput.value.trim();
        if (!message) return;
        
        const chatMessages = document.getElementById('chatMessages');
        if (!chatMessages) return;
        
        // æ·»åŠ ç”¨æˆ·æ¶ˆæ¯
        this.addMessage(message, 'user');
        
        // æ¸…ç©ºè¾“å…¥æ¡†
        chatInput.value = '';
        
        // è®°å½•æ—¥å¿—
        Logger.logAction(`ç”¨æˆ·å‘é€æ¶ˆæ¯: "${message}"`, 'info');
        
        // å¤„ç†æ¶ˆæ¯
        this.processMessage(message);
      },
      
      // å¤„ç†æ¶ˆæ¯
      async processMessage(message) {
        // ç®€å•çš„AIå“åº”é€»è¾‘
        let response;
        if (message.includes('ä½ å¥½') || message.includes('hi') || message.includes('hello')) {
          response = 'ä½ å¥½ï¼å¾ˆé«˜å…´ä¸ºæ‚¨æœåŠ¡ã€‚è¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®åˆ°æ‚¨ï¼Ÿ';
        } else if (message.includes('åŠŸèƒ½') || message.includes('ä»€ä¹ˆ')) {
          response = 'æˆ‘å¯ä»¥å›ç­”é—®é¢˜ã€æä¾›å¸®åŠ©ï¼Œæˆ–è€…é™ªæ‚¨èŠå¤©ã€‚è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–ç‰ˆçš„ç•Œé¢ç¤ºä¾‹ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„åŠ¨ç”»å’Œæ•ˆæœã€‚';
        } else if (message.includes('è°¢è°¢') || message.includes('thanks')) {
          response = 'ä¸å®¢æ°”ï¼Œè¿™æ˜¯æˆ‘çš„è£å¹¸ã€‚éšæ—¶ä¸ºæ‚¨æœåŠ¡ï¼';
        } else {
          response = 'æˆ‘å·²ç»æ”¶åˆ°æ‚¨çš„æ¶ˆæ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºå›å¤ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ¥å…¥çœŸæ­£çš„AIå“åº”ç³»ç»Ÿã€‚æ„Ÿè°¢æ‚¨çš„è€å¿ƒæµ‹è¯•ï¼';
        }
        
        // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
        await new Promise(resolve => setTimeout(resolve, 500));
        
        // æ·»åŠ AIæ¶ˆæ¯
        this.addMessage(response, 'ai', true);
      },
      
      // æ·»åŠ æ¶ˆæ¯
      addMessage(content, type, isTyping = false) {
        const chatMessages = document.getElementById('chatMessages');
        if (!chatMessages) return;
        
        // åˆ›å»ºæ¶ˆæ¯å…ƒç´ 
        const messageElement = document.createElement('div');
        messageElement.className = `chat-message ${type}`;
        
        // ä¿å­˜åˆ°å†å²
        this.messageHistory.push({
          content,
          type,
          timestamp: new Date()
        });
        
        // å¦‚æœæ˜¯æ‰“å­—æ•ˆæœ
        if (isTyping && type === 'ai') {
          messageElement.textContent = '';
          chatMessages.appendChild(messageElement);
          
          // æµå¼æ‰“å­—æ•ˆæœ
          this.typeWriterEffect(messageElement, content);
        } else {
          messageElement.textContent = content;
          chatMessages.appendChild(messageElement);
        }
        
        // æ»šåŠ¨åˆ°åº•éƒ¨
        this.scrollToBottom(chatMessages);
      },
      
      // æ‰“å­—æœºæ•ˆæœ - ä½¿ç”¨Web Animation API
      typeWriterEffect(element, text) {
        let i = 0;
        const speed = 30;
        
        const typing = () => {
          if (i < text.length) {
            element.textContent = text.substring(0, i + 1);
            i++;
            setTimeout(typing, speed);
          } else {
            // æ‰“å°å®Œæˆ
            Logger.logAction('AIå·²å®Œæˆå›å¤', 'success');
          }
        };
        
        typing();
      },
      
      // æ»šåŠ¨åˆ°åº•éƒ¨ - ä½¿ç”¨å¹³æ»‘æ»šåŠ¨
      scrollToBottom(element) {
        element.scrollTo({
          top: element.scrollHeight,
          behavior: 'smooth'
        });
      }
    };

    // å¯åŠ¨åº”ç”¨
    async function initializeApp() {
      // åˆå§‹åŒ–DOMå¼•ç”¨
      DOM.init();
      
      // è®°å½•åˆå§‹æ—¥å¿—
      Logger.logAction('ç³»ç»Ÿæ­£åœ¨å¯åŠ¨...', 'info');
      
      // åŠ è½½ç”¨æˆ·è®¾ç½®
      await Config.loadSettings();
      
      // åˆå§‹åŒ–UI
      UI.init();
      
      // åˆå§‹åŒ–ç³»ç»Ÿ
      System.init();
      
      // æ£€æµ‹è®¾å¤‡æ€§èƒ½ï¼Œè‡ªåŠ¨é€‰æ‹©ç”»è´¨
      const isLowEndDevice = 
        window.navigator.hardwareConcurrency <= 4 || 
        /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
      
      if (isLowEndDevice && State.performanceMode > 0) {
        System.setPerformanceQuality(0);
        Logger.logAction('æ£€æµ‹åˆ°ä½æ€§èƒ½è®¾å¤‡ï¼Œå·²è‡ªåŠ¨è°ƒæ•´ç”»è´¨', 'info');
      }
      
      // å“åº”æ€§ç›‘æµ‹
      UI.handleResize();
      
      // æ€§èƒ½ç›‘æ§
      System.monitorPerformance();
      
      // æ³¨å†ŒService Worker (æ”¯æŒPWA)
      if ('serviceWorker' in navigator) {
        try {
          // çœç•¥å®é™…çš„Service Workeræ³¨å†Œä»£ç 
          Logger.logAction('Service Workerå·²æ³¨å†Œ', 'success');
        } catch (error) {
          Logger.logAction('Service Workeræ³¨å†Œå¤±è´¥', 'error');
        }
      }
      
      Logger.logAction('ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ', 'success');
    }

    // å½“æ–‡æ¡£åŠ è½½å®Œæˆæ—¶å¯åŠ¨åº”ç”¨
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeApp);
    } else {
      initializeApp();
    }

    // æš´éœ²å…¨å±€API - åªæš´éœ²å¿…è¦çš„å‡½æ•°
    window.UI = {
      toggleMenu: UI.toggleMenu.bind(UI),
      togglePanel: UI.togglePanel.bind(UI)
    };

    // æ”¯æŒçƒ­é‡è½½ (å¼€å‘ç¯å¢ƒ)
    if (import.meta.hot) {
      import.meta.hot.accept(() => {
        Logger.logAction('æ£€æµ‹åˆ°æ¨¡å—çƒ­é‡è½½', 'info');
      });
    }
  </script>
</body>
</html>